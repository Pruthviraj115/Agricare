create a simple data base for the below code in order to save the temperatur and weather for cast and the soil humidity and the and solar radiation by taking the values from the generated real time data which is bieng displayed and don't change the existing code add new code  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agricare</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Login Page -->
    <div id="login-page" class="flex items-center justify-center h-screen bg-green-100">
        <div class="bg-white p-8 rounded-lg shadow-lg w-96">
            <h1 class="text-2xl font-bold text-center mb-6">Welcome to Agricare</h1>
            <form id="login-form" action="javascript:void(0);">
                <label for="login-username" class="block text-sm font-medium mb-2">Username</label>
                <input type="text" id="login-username" class="w-full mb-4 p-2 border rounded" placeholder="Enter Username">
                <label for="login-password" class="block text-sm font-medium mb-2">Password</label>
                <input type="password" id="login-password" class="w-full mb-4 p-2 border rounded" placeholder="Enter Password">
                <button type="submit" class="bg-green-600 text-white py-2 px-4 rounded w-full hover:bg-green-700">Login</button>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="hidden flex h-screen">
        <!-- Sidebar Menu -->
        <div class="bg-green-600 text-white w-64 flex flex-col justify-between">
            <div class="p-4">
                <button id="logout-button" class="w-full bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600">Logout</button>
                <div class="text-center text-sm mt-4 text-gray-300">
                    © 2024 Agricare. All rights reserved.
                </div>
            </div>
            
            <!-- User Info Section -->
            <div class="flex flex-col items-center py-6">
                <img src="https://via.placeholder.com/80" alt="User Avatar" class="rounded-full mb-4">
                <p id="user-name" class="font-semibold text-lg">User Name</p>
            </div>

            <!-- Menu Section -->
            <ul class="space-y-4 px-4">
                <li><a href="javascript:void(0)" id="notifications-link" class="sidebar-link block py-2 px-4 rounded hover:bg-green-700">Notifications</a></li>
                <li><a href="javascript:void(0)" id="weather-link" class="sidebar-link block py-2 px-4 rounded hover:bg-green-700">Weather</a></li>
                <li><a href="javascript:void(0)" id="temperature-monitor-link" class="sidebar-link block py-2 px-4 rounded hover:bg-green-700">Temperature Indicator</a></li>
                <li><a href="javascript:void(0)" id="soil-testing-link" class="sidebar-link block py-2 px-4 rounded hover:bg-green-700">Soil Testing Results</a></li>
                <li><a href="javascript:void(0)" id="rainwater-link" class="sidebar-link block py-2 px-4 rounded hover:bg-green-700">Rainwater Storage Indicator</a></li>
                <li><a href="javascript:void(0)" id="solar-power-link" class="sidebar-link block py-2 px-4 rounded hover:bg-green-700">Solar Power Indicator</a></li>
                <li><a href="javascript:void(0)" id="irrigation-controls-link" class="sidebar-link block py-2 px-4 rounded hover:bg-green-700">Irrigation Controls</a></li>
                <li><a href="javascript:void(0)" id="water-saved-link" class="sidebar-link block py-2 px-4 rounded hover:bg-green-700">Saved Water</a></li>
                <li><a href="javascript:void(0)" id="track-record-link" class="sidebar-link block py-2 px-4 rounded hover:bg-green-700">Track Record</a></li>
            </ul>

            <!-- Logout Section -->
            <div class="p-4">
                <button id="logout-button" class="w-full bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600">Logout</button>
            </div>
            <b><hr></b>
            <div class="text-center text-sm mt-4 text-gray-300">
                © 2024 Agricare. All rights reserved.
                <script>
                 
                </script>
            </div>
            
        </div>

        <!-- Main Content -->
        <div class="flex-1 p-6 overflow-y-auto">
            <header class="flex justify-between items-center mb-6">
                <h1 class="text-2xl font-bold text-green-600">Agricare</h1>
                <input type="text" placeholder="Search..." class="p-2 rounded bg-white text-gray-800 w-1/3 shadow-md">
            </header>

            <!-- Content Sections -->
            <section id="notifications" class="hidden">
                <h2 class="text-lg font-semibold mb-4">Notifications</h2>
                <ul id="notifications-list" class="list-disc pl-5 text-sm space-y-2">
                    <li>System running smoothly.</li>
                </ul>
            </section>

            <section id="weather" class="hidden">
                <h2 class="text-lg font-semibold mb-4">Live Weather Broadcast</h2>
                <p id="weather-forecast" class="text-sm">Fetching weather data...</p>
            </section>

            <section id="temperature-monitor" class="hidden">
                <h2 class="text-lg font-semibold mb-4">Temperature Indicator</h2>
                <div class="bg-white shadow-lg p-6 rounded-lg">
                    <h3 class="text-lg font-semibold">Current Temperature</h3>
                    <p class="text-2xl font-semibold" id="current-temperature">-- °C</p>
                </div>
            </section>

            <section id="soil-testing" class="hidden">
                <h2 class="text-lg font-semibold mb-4">Soil Testing Results</h2>
                <div class="bg-white shadow-lg p-6 rounded-lg">
                    <h3 class="text-lg font-semibold">Soil pH Level</h3>
                    <p class="text-2xl font-semibold" id="soil-ph">-- pH</p>
                </div>
            </section>

            <section id="rainwater" class="hidden">
                <h2 class="text-lg font-semibold mb-4">Rainwater Storage Indicator</h2>
                <div class="bg-white shadow-lg p-6 rounded-lg">
                    <h3 class="text-lg font-semibold">Rainwater Storage Level</h3>
                    <p class="text-2xl font-semibold" id="rainwater-storage">--%</p>
                </div>
            </section>

            <section id="solar-power" class="hidden">
                <div class="container mx-auto py-10">
                    <h1 class="text-3xl font-bold text-center text-green-600 mb-8">Solar Radiation Monitor</h1>
                    
                    <div class="bg-white shadow-lg rounded-lg p-6 text-center">
                        <h2 class="text-xl font-semibold mb-4">Solar Radiation</h2>
                        <p id="solar-radiation" class="text-2xl font-bold text-green-600">-- W/m²</p>
                        <button onclick="loadSolarRadiation()" class="mt-6 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-700">
                            Load Data
                        </button>
                    </div>
                </div>
            
                <script>
                    async function loadSolarRadiation() {
                        try {
                            // Fetch solar radiation data from the JSON file
                            const response = await fetch('solar_data.json');
                            if (response.ok) {
                                const data = await response.json();
                                document.getElementById('solar-radiation').innerText = ${data.solar_radiation} W/m²;
                            } else {
                                document.getElementById('solar-radiation').innerText = 'Error loading data.';
                            }
                        } catch (error) {
                            console.error('Error:', error);
                            document.getElementById('solar-radiation').innerText = 'Unable to load data.';
                        }
                    }
                </script>
            

            <section id="irrigation-controls" class="hidden">
                <h2 class="text-lg font-semibold mb-4">Irrigation Controls</h2>
                <form id="irrigation-form">
                    <label for="irrigation-level" class="block text-sm font-medium mb-2">Set Irrigation Level (%)</label>
                    <input type="range" id="irrigation-level" name="irrigation-level" min="0" max="100" class="w-full mb-4">
                    <button type="submit" class="bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700">Apply</button>
                </form>
            </section>

            <section id="water-saved" class="hidden">
                <h2 class="text-lg font-semibold mb-4">Saved Water</h2>
                <div class="bg-white shadow-lg p-6 rounded-lg">
                    <h3 class="text-lg font-semibold">Total Water Saved</h3>
                    <p class="text-2xl font-semibold" id="water-saved">-- L</p>
                </div>
            </section>
            
            <script>
                async function fetchWaterSaved() {
                    try {
                        const response = await fetch("http://localhost:8000/water.py");
                        if (response.ok) {
                            const data = await response.json(); // Parse JSON response
                            document.getElementById("water-saved").innerText = ${data.total_water_saved} L;
                        } else {
                            document.getElementById("water-saved").innerText = "Error fetching data.";
                        }
                    } catch (error) {
                        console.error("Failed to fetch water saved data:", error);
                        document.getElementById("water-saved").innerText = "Unable to connect to the server.";
                    }
                }
            
                // Fetch water saved data when the section is shown
                document.getElementById("water-saved-link").addEventListener("click", fetchWaterSaved);
            </script>
            

            <section id="track-record" class="hidden">
                <h2 class="text-lg font-semibold mb-4">Track Record</h2>
                <p>Here you can view the historical irrigation and environmental data.</p>
                <button type="submit" class="bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700">Apply</button>
            </section>
            <section id="popup-services" class="hidden">
                <h2 class="text-lg font-semibold mb-4">Popup Services</h2>
                <div class="bg-black shadow-lg p-6 rounded-lg space-y-4">
                    <button 
                        onclick="showPopup('Predictions', 'predictions.html')" 
                        class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 w-full text-left">
                        Predictions
                    </button>
                    <button 
                        onclick="showPopup('Measures Taken', 'measures.html')" 
                        class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 w-full text-left">
                        Measures Taken
                    </button>
                </div>
            </section>
            
            
        </div>
    </div>
    
 <script>

    // JavaScript Code for Sidebar Functionality
    document.getElementById('login-form').addEventListener('submit', function () {
        // Get the username from the login form
        const username = document.getElementById('login-username').value;

        // Set the username in the sidebar
        document.getElementById('user-name').innerText = username;

        // Hide the login page and show the main app
        document.getElementById('login-page').classList.add('hidden');
        document.getElementById('main-app').classList.remove('hidden');
    });

    const sidebarLinks = document.querySelectorAll('.sidebar-link');
    const sections = document.querySelectorAll('section');

    sidebarLinks.forEach(link => {
        link.addEventListener('click', () => {
            sections.forEach(section => section.classList.add('hidden'));
            document.getElementById(link.id.replace('-link', '')).classList.remove('hidden');
        });
    });

    document.getElementById('logout-button').addEventListener('click', function () {
        document.getElementById('login-page').classList.remove('hidden');
        document.getElementById('main-app').classList.add('hidden');
    });
    

    // Corrected fetchWeather function
    async function fetchWeather() {
        const apiKey = 'c970866bbfbb037852e153efb940b68a';
        const city = 'Hassan,Karnataka';

        const url = https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric;

        try {
            const response = await fetch(url);
            const data = await response.json();

            document.getElementById('weather-forecast').innerText = Temperature: ${data.main.temp}°C, Weather: ${data.weather[0].description};

            const humidity = data.main.humidity;
            const windSpeed = data.wind.speed;
            const pressure = data.main.pressure;

            const extraWeatherInfo = 
                Humidity: ${humidity}%
                Wind Speed: ${windSpeed} m/s
                Pressure: ${pressure} hPa
            ;
            document.getElementById('weather-forecast').innerText +=  | ${extraWeatherInfo};
        } catch (error) {
            document.getElementById('weather-forecast').innerText = 'Failed to fetch weather data.';
        }
    }
    
    // Random generation for soil testing results when 'Soil Testing Results' section is shown
    document.getElementById('soil-testing-link').addEventListener('click', function () {
        // Generate random pH value between 4.0 and 8.0 (typical pH range for most soils)
        const randomSoilPh = (Math.random() * (8.0 - 4.0) + 4.0).toFixed(1);

        // Generate random moisture level between 0% and 100% (soil moisture content)
        const randomSoilMoisture = Math.floor(Math.random() * 101); 

        // Generate random Nitrogen content between 0 and 100 (in ppm - parts per million)
        const randomNitrogen = Math.floor(Math.random() * 101);

        // Generate random Phosphorus content between 0 and 100 (in ppm)
        const randomPhosphorus = Math.floor(Math.random() * 101);

        // Generate random Potassium content between 0 and 100 (in ppm)
        const randomPotassium = Math.floor(Math.random() * 101);

        // Display the generated values for soil pH, moisture, and nutrients
        document.getElementById('soil-ph').innerText = Soil pH: ${randomSoilPh};
        document.getElementById('soil-moisture').innerText = Soil Moisture: ${randomSoilMoisture}%;
        document.getElementById('nitrogen-content').innerText = Nitrogen: ${randomNitrogen} ppm;
        document.getElementById('phosphorus-content').innerText = Phosphorus: ${randomPhosphorus} ppm;
        document.getElementById('potassium-content').innerText = Potassium: ${randomPotassium} ppm;
    });


    // Fetch weather when 'Weather' section is displayed
    document.getElementById('weather-link').addEventListener('click', fetchWeather);

    // Fetch live temperature for the "Temperature Indicator" section
    async function fetchLiveTemperature() {
        const apiKey = 'c970866bbfbb037852e153efb940b68a';
        const city = 'Hassan,Karnataka';

        const url = https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric;

        try {
            const response = await fetch(url);
            const data = await response.json();

            // Update the temperature display in the "Temperature Indicator" section
            document.getElementById('current-temperature').innerText = ${data.main.temp} °C;
        } catch (error) {
            document.getElementById('current-temperature').innerText = 'Failed to fetch temperature data.';
        }
    }
    
    // Random generation for solar power indicator when 'Solar Power Indicator' section is shown
    document.getElementById('solar-power-link').addEventListener('click', function () {
        // Generate random solar irradiance between 100 and 1000 (in W/m²)
        const randomSolarIrradiance = (Math.random() * (1000 - 100) + 100).toFixed(1);

        // Generate random solar panel output between 0 and 5000 (in watts)
        const randomSolarOutput = Math.floor(Math.random() * 5001); 

        // Generate random battery charge level between 0% and 100%
        const randomBatteryCharge = Math.floor(Math.random() * 101);

        // Display the generated values for solar irradiance, output, and battery charge
        document.getElementById('solar-irradiance').innerText = Solar Irradiance: ${randomSolarIrradiance} W/m²;
        document.getElementById('solar-output').innerText = Solar Panel Output: ${randomSolarOutput} W;
        document.getElementById('battery-charge').innerText = Battery Charge Level: ${randomBatteryCharge}%;
    });


    

   
    // Add the irrigation form submit handler to display success message
    document.getElementById('irrigation-form').addEventListener('submit', function (event) {
        event.preventDefault(); // Prevent form submission that causes page reload
        // Display a success message
        alert("Changes applied successfully");
    });
    
    // Random generation for rainwater storage level when 'Rainwater Storage Indicator' section is shown
    document.getElementById('rainwater-link').addEventListener('click', function () {
        // Generate random rainwater storage percentage (between 0% and 100%)
        const randomRainwaterStoragePercentage = Math.floor(Math.random() * 101); 

        // Generate random rainwater volume in liters (between 0 and 5000 liters)
        const randomRainwaterVolume = Math.floor(Math.random() * 5001); 

        // Display the generated values
        document.getElementById('rainwater-storage').innerText = Storage Level: ${randomRainwaterStoragePercentage}% | Volume: ${randomRainwaterVolume} L;
    });
    
  


</script>

</body>
</html>
